<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>跨端容器 | xiujava</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="jiawen 的博客">
    
    <link rel="preload" href="/pr/assets/css/0.styles.3978be1e.css" as="style"><link rel="preload" href="/pr/assets/js/app.b652a85f.js" as="script"><link rel="preload" href="/pr/assets/js/2.846b7fc6.js" as="script"><link rel="preload" href="/pr/assets/js/1.bc703a74.js" as="script"><link rel="preload" href="/pr/assets/js/27.182bd1ad.js" as="script"><link rel="prefetch" href="/pr/assets/js/10.afb24a76.js"><link rel="prefetch" href="/pr/assets/js/11.26a4e38a.js"><link rel="prefetch" href="/pr/assets/js/12.972428b2.js"><link rel="prefetch" href="/pr/assets/js/13.363a2818.js"><link rel="prefetch" href="/pr/assets/js/14.da87bb03.js"><link rel="prefetch" href="/pr/assets/js/15.be6c279e.js"><link rel="prefetch" href="/pr/assets/js/16.5b27973e.js"><link rel="prefetch" href="/pr/assets/js/17.e9441626.js"><link rel="prefetch" href="/pr/assets/js/18.73cc4e61.js"><link rel="prefetch" href="/pr/assets/js/19.04ead57f.js"><link rel="prefetch" href="/pr/assets/js/20.a59fc3ba.js"><link rel="prefetch" href="/pr/assets/js/21.08fe35aa.js"><link rel="prefetch" href="/pr/assets/js/22.f5ce9d9e.js"><link rel="prefetch" href="/pr/assets/js/23.47ca722c.js"><link rel="prefetch" href="/pr/assets/js/24.4fddcd23.js"><link rel="prefetch" href="/pr/assets/js/25.633c1faa.js"><link rel="prefetch" href="/pr/assets/js/26.8ab83674.js"><link rel="prefetch" href="/pr/assets/js/28.1383b35a.js"><link rel="prefetch" href="/pr/assets/js/29.ae522b2f.js"><link rel="prefetch" href="/pr/assets/js/3.7d9825a9.js"><link rel="prefetch" href="/pr/assets/js/30.bcb96b1e.js"><link rel="prefetch" href="/pr/assets/js/31.dc8342be.js"><link rel="prefetch" href="/pr/assets/js/32.1dc6f5da.js"><link rel="prefetch" href="/pr/assets/js/33.c22b5273.js"><link rel="prefetch" href="/pr/assets/js/34.8897cec6.js"><link rel="prefetch" href="/pr/assets/js/35.5dcb8c21.js"><link rel="prefetch" href="/pr/assets/js/36.11dde236.js"><link rel="prefetch" href="/pr/assets/js/37.fbdf6108.js"><link rel="prefetch" href="/pr/assets/js/38.6c386453.js"><link rel="prefetch" href="/pr/assets/js/39.bbbe93e7.js"><link rel="prefetch" href="/pr/assets/js/4.1b5a2940.js"><link rel="prefetch" href="/pr/assets/js/40.fa8a4a55.js"><link rel="prefetch" href="/pr/assets/js/41.1337de57.js"><link rel="prefetch" href="/pr/assets/js/42.974b0c08.js"><link rel="prefetch" href="/pr/assets/js/43.5ec06833.js"><link rel="prefetch" href="/pr/assets/js/44.41d4f968.js"><link rel="prefetch" href="/pr/assets/js/45.74b1a5a1.js"><link rel="prefetch" href="/pr/assets/js/46.0b447bda.js"><link rel="prefetch" href="/pr/assets/js/47.bbf6f3b2.js"><link rel="prefetch" href="/pr/assets/js/48.4e4341c7.js"><link rel="prefetch" href="/pr/assets/js/49.b676e821.js"><link rel="prefetch" href="/pr/assets/js/5.0d0d8c0c.js"><link rel="prefetch" href="/pr/assets/js/50.89ce29be.js"><link rel="prefetch" href="/pr/assets/js/51.5d694e00.js"><link rel="prefetch" href="/pr/assets/js/52.9da5a600.js"><link rel="prefetch" href="/pr/assets/js/53.3a609c95.js"><link rel="prefetch" href="/pr/assets/js/54.c2aa27ca.js"><link rel="prefetch" href="/pr/assets/js/55.7e92886a.js"><link rel="prefetch" href="/pr/assets/js/56.b2bd260a.js"><link rel="prefetch" href="/pr/assets/js/57.bc7fc028.js"><link rel="prefetch" href="/pr/assets/js/58.0b9ba301.js"><link rel="prefetch" href="/pr/assets/js/59.30303c2b.js"><link rel="prefetch" href="/pr/assets/js/6.ec95ead8.js"><link rel="prefetch" href="/pr/assets/js/60.05f954c6.js"><link rel="prefetch" href="/pr/assets/js/7.aa392645.js"><link rel="prefetch" href="/pr/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/pr/assets/css/0.styles.3978be1e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/pr/" class="home-link router-link-active"><!----> <span class="site-name">xiujava</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pr/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://www.yuque.com/xiwen-bxuha/pr/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  yuque
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/javaxiu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pr/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://www.yuque.com/xiwen-bxuha/pr/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  yuque
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/javaxiu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NLP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Electron系列</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pr/pr/electron/feishu.html" class="sidebar-link">飞书客户端技术</a></li><li><a href="/pr/pr/electron/container.html" aria-current="page" class="active sidebar-link">跨端容器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pr/pr/electron/container.html#概览" class="sidebar-link">概览</a></li><li class="sidebar-sub-header"><a href="/pr/pr/electron/container.html#容器逻辑" class="sidebar-link">容器逻辑</a></li><li class="sidebar-sub-header"><a href="/pr/pr/electron/container.html#" class="sidebar-link"></a></li><li class="sidebar-sub-header"><a href="/pr/pr/electron/container.html#一点对比" class="sidebar-link">一点对比</a></li></ul></li><li><a href="/pr/pr/electron/electron-overview.html" class="sidebar-link">Electron 经验</a></li><li><a href="/pr/pr/electron/win7-compatible.html" class="sidebar-link">win7兼容性调研</a></li><li><a href="/pr/pr/electron/xl1.html" class="sidebar-link">扒一扒某下载软件的源码</a></li><li><a href="/pr/pr/electron/xl2.html" class="sidebar-link">扒一扒某下载软件的代码结构(二)</a></li><li><a href="/pr/pr/electron/mac11.html" class="sidebar-link">Mac11.4权限问题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>低代码系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术分享</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>杂谈</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="跨端容器"><a href="#跨端容器" class="header-anchor">#</a> 跨端容器</h1> <h2 id="概览"><a href="#概览" class="header-anchor">#</a> 概览</h2> <blockquote><p>一年以上 github 没有活跃的不在此表格中展示，例如 <a href="https://github.com/pojala/electrino" target="_blank" rel="noopener noreferrer">electrino<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://github.com/chromelyapps/Chromely" target="_blank" rel="noopener noreferrer">Chromely<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 等</p></blockquote> <table><thead><tr><th>主进程语言</th> <th>UI 容器</th> <th></th> <th>star</th> <th>谁在用</th></tr></thead> <tbody><tr><td>C++/OC</td> <td>native ui</td> <td>原生</td> <td></td> <td></td></tr> <tr><td>C++ / OC</td> <td>WKWebview</td> <td>原生</td> <td></td> <td>typora</td></tr> <tr><td>C++/C#/java/python/Go</td> <td>Chromium / native ui</td> <td><a href="https://bitbucket.org/chromiumembedded/cef/src/master/" target="_blank" rel="noopener noreferrer">CEF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td></td> <td>钉钉 / 企微</td></tr> <tr><td>go</td> <td>操作系统 webview</td> <td><a href="https://wails.app/" target="_blank" rel="noopener noreferrer">wail<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>4.8k</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>go</td> <td>Electron</td> <td><a href="https://github.com/asticode/go-astilectron" target="_blank" rel="noopener noreferrer">go-astilectron<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>4.1k</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>C++ 定制</td> <td>操作系统 Webview</td> <td><a href="https://github.com/neutralinojs/neutralinojs" target="_blank" rel="noopener noreferrer">Neutralinojs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>4.6k</td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>dart</td> <td>native ui</td> <td><a href="https://github.com/flutter/flutter" target="_blank" rel="noopener noreferrer">Flutter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>133k</td> <td></td></tr> <tr><td>C++</td> <td>QT</td> <td>QT</td> <td></td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td></td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>nodejs</td> <td>QT</td> <td><a href="https://react.nodegui.org/#quick-start" target="_blank" rel="noopener noreferrer">react-nodegui<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>5.9k</td> <td>好玩大于实用</td></tr> <tr><td>rust</td> <td>操作系统 Webview</td> <td><a href="https://tauri.studio/en/docs/usage/guides/command" target="_blank" rel="noopener noreferrer">tauri<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>24.8k</td> <td>guijs</td></tr> <tr><td>nodejs</td> <td>Chromium</td> <td>Electron</td> <td>99.1k</td> <td>atom / 迅雷windows / slack / Vscode / 有道笔记 / 阿里云盘 / 百度网盘 / 早期版飞书，新版飞书定制过</td></tr> <tr><td>nodejs</td> <td>Chromium</td> <td><a href="https://github.com/nwjs/nw.js" target="_blank" rel="noopener noreferrer">NW.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>38.6k</td> <td>早期钉钉 / 微信小程序IDE</td></tr></tbody></table> <h2 id="容器逻辑"><a href="#容器逻辑" class="header-anchor">#</a> 容器逻辑</h2> <h3 id="electron"><a href="#electron" class="header-anchor">#</a> Electron</h3> <p><img src="/pr//yuque/__mermaid_v3/2f9bf91286ab65ca161feef534f44a56.svg" alt="">## Tauri
<img src="/pr//yuque/__mermaid_v3/f132b8c72805bc03ad337e3718f297b2.svg" alt="">## CEF
<img src="/pr//yuque/__mermaid_v3/7dcc12a0c5d88176315692e7a64dec75.svg" alt=""># 各框架的实现</p> <h3 id="electron-2"><a href="#electron-2" class="header-anchor">#</a> Electron</h3> <p><a href="https://www.electronjs.org/" target="_blank" rel="noopener noreferrer">https://www.electronjs.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
详细分析 <a href="https://www.yuque.com/go/doc/57129922" target="_blank" rel="noopener noreferrer">https://www.yuque.com/go/doc/57129922<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="tauri"><a href="#tauri" class="header-anchor">#</a> Tauri</h3> <h4 id="官网"><a href="#官网" class="header-anchor">#</a> 官网</h4> <p><a href="https://github.com/tauri-apps/tauri" target="_blank" rel="noopener noreferrer">https://github.com/tauri-apps/tauri<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
基于 rust 库 <a href="https://docs.rs/tao/0.5.2/tao/" target="_blank" rel="noopener noreferrer">TAO<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，TAO 也是 Tauri 的一个子模块，TAO 背后依赖 <a href="https://github.com/rust-windowing/winit" target="_blank" rel="noopener noreferrer">winint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 实现的窗口管理。webview 部分实现是通过 <a href="https://github.com/tauri-apps/wry" target="_blank" rel="noopener noreferrer">WRY<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（webview render library），由各操作系统提供的 webview 来实现（webkit2gtk/WKWebview/Webview2）
平台兼容性方面号称 win7810/mac/Linux/android/ios 都会支持</p> <h4 id="demo代码"><a href="#demo代码" class="header-anchor">#</a> Demo代码</h4> <p><img src="/pr//yuque/0/2021/png/139763/1636550096111-80966187-e9f8-44f2-8e00-8029c5b90d0d.png" alt="image.png"></p> <h4 id="容器"><a href="#容器" class="header-anchor">#</a> 容器</h4> <p>Mac部分用的是 wkwebview, dev/build 都会重新构建一个独立 app，产物是一个 unix 可执行程序，无法像 electron 一样继续拆包，里面包含了 rust/html+js 的代码</p> <h4 id="js-api"><a href="#js-api" class="header-anchor">#</a> JS API</h4> <p>通过 类似 <a href="https://developer.apple.com/documentation/webkit/wkwebview/1415017-evaluatejavascript" target="_blank" rel="noopener noreferrer">evaluateJavaScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的方式注入 js 方法，所有方法组合挂载在全局变量 <strong>TAURI</strong> 中
<img src="/pr//yuque/0/2021/png/139763/1636549818305-e21633a0-bdfa-4a54-abcb-f0378fac3641.png" alt="image.png">
每个方法背后的实现实际上都是 webview postMessage 的消息体的封装，然后在 native webview 处注册一个名为 external 的 messageHandler，对应 WKWebview 的 <a href="https://developer.apple.com/documentation/webkit/wkusercontentcontroller/1537172-add" target="_blank" rel="noopener noreferrer">userContentController.add<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法
<img src="/pr//yuque/0/2021/png/139763/1636549748351-eea58547-afc0-47f5-a848-3fc4cd696695.png" alt="image.png">
这个诡异超长的 callback 是什么？跟着栈看了一下其实是类似 jsonp 的东西，按理说应该没必要这么长
<img src="/pr//yuque/0/2021/png/139763/1636550545418-36bd50ae-c080-4909-9345-6e45c3dad4b2.png" alt="image.png"></p> <h4 id="自定义-jsapi"><a href="#自定义-jsapi" class="header-anchor">#</a> 自定义 jsapi</h4> <ul><li>方式一：event / eval</li></ul> <p>通过 <a href="https://tauri.studio/en/docs/api/js/modules/event/#module-event" target="_blank" rel="noopener noreferrer">event<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 在主进程监听消息, 前端侧通过 <code>window.__TAURI__.event.emit('eventname', datastring)</code> 的方式实现消息互通。反过来从主进程往前端发消息则是通过 <code>webview.eval</code> 执行 callback 的方式实现消息发送</p> <ul><li>方式二：invokeHandler / send</li></ul> <p>rust 侧：generate_handler![app_completed_successfully])
js 侧：window.<strong>TAURI</strong>.invoke('app_completed_successfully');</p> <h2 id=""><a href="#" class="header-anchor">#</a></h2> <h3 id="neutralinojs"><a href="#neutralinojs" class="header-anchor">#</a> Neutralinojs</h3> <h4 id="官网-2"><a href="#官网-2" class="header-anchor">#</a> 官网</h4> <p><a href="https://neutralino.js.org/docs/" target="_blank" rel="noopener noreferrer">https://neutralino.js.org/docs/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="demo代码-2"><a href="#demo代码-2" class="header-anchor">#</a> Demo代码</h4> <p><img src="/pr//yuque/0/2021/png/139763/1636534118948-a1473c4f-1b3f-4828-be6a-2d2f3528da16.png" alt="image.png"></p> <h4 id="容器-2"><a href="#容器-2" class="header-anchor">#</a> 容器</h4> <p>脚手架自带三种容器：</p> <ul><li>Linux(x3种架构 体积1.2M)   基于 gtk3</li> <li>Mac(x64+roseta 体积1.6M)  基于 WKWebview</li> <li>win(+webview2 体积2.2M) 基于 webview2</li></ul> <p>三种都是基于系统自带实现，且开发不需要二次构建，只需要开发完成前端页面后直接与容器打包</p> <h4 id="js-api-2"><a href="#js-api-2" class="header-anchor">#</a> JS API</h4> <p>通过在 HTML 显示引用 <code>js/neutralino.js</code>  ，该 js 提供全局对象 Neutralino 调用 native api，例如 显示窗口 API  <code>Neutralino.window.show()</code>
实际上此 Api 是通过 websocket 连接到一个特定端口来实现 api 调用的。</p> <h4 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h4> <p>可以说是一种取巧的实现方式，因为这样就只需要实现不同的容器即可，不需要为各平台 webview api 做 Pollyfill。但是这种 ws 可靠性安全性需要根据项目需求考量。同时，这种业务无法编写主进程代码的，偶尔会对业务有一些制约
<img src="/pr//yuque/0/2021/png/139763/1636533889497-9c41aa9f-3aba-479c-a545-144988f5b4e0.png" alt="image.png"> <img src="/pr//yuque/0/2021/png/139763/1636533971994-13c5e6c9-36ef-4a04-b799-3cb5a6852b0b.png" alt="image.png"></p> <h3 id="webview2"><a href="#webview2" class="header-anchor">#</a> webview2</h3> <h4 id="官网-3"><a href="#官网-3" class="header-anchor">#</a> 官网</h4> <p><a href="https://support.microsoft.com/en-us/topic/update-for-the-new-microsoft-edge-for-windows-7-sp1-and-windows-8-1-june-17-2020-84956dd9-0f0e-3607-1ebf-0cf70da700b1" target="_blank" rel="noopener noreferrer">https://support.microsoft.com/en-us/topic/update-for-the-new-microsoft-edge-for-windows-7-sp1-and-windows-8-1-june-17-2020-84956dd9-0f0e-3607-1ebf-0cf70da700b1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="操作系统兼容性"><a href="#操作系统兼容性" class="header-anchor">#</a> 操作系统兼容性</h4> <p>官方宣称支持 win7/win8/win10.
webview2 的依赖关系是 webview2 -&gt; edge -&gt; chrominum. win10 才预装了 edge. 看起来是 win7 sp1 一些自动更新的<a href="https://support.microsoft.com/en-us/topic/update-for-the-new-microsoft-edge-for-windows-7-sp1-and-windows-8-1-june-17-2020-84956dd9-0f0e-3607-1ebf-0cf70da700b1" target="_blank" rel="noopener noreferrer">热补丁<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>会安装这个。言外之意，win7sp1 以下或关闭更新的机型是不被兼容的</p> <h4 id="技术架构分析"><a href="#技术架构分析" class="header-anchor">#</a> 技术架构分析</h4> <p>看看 electron 这个博客就了解了，大概技术原理是类似于 CEF，但是地位上和 win32 winform wpf uwp 等是一个级别的 Windows 基础组件，可以实现底层内存/处理线程共享，实现性能优化
<a href="https://www.electronjs.org/blog/webview2" target="_blank" rel="noopener noreferrer">https://www.electronjs.org/blog/webview2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="cef"><a href="#cef" class="header-anchor">#</a> CEF</h3> <h4 id="官网-4"><a href="#官网-4" class="header-anchor">#</a> 官网</h4> <p><a href="https://bitbucket.org/chromiumembedded/cef/src" target="_blank" rel="noopener noreferrer">https://bitbucket.org/chromiumembedded/cef/src<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="容器-3"><a href="#容器-3" class="header-anchor">#</a> 容器</h4> <p>chromium.</p> <h4 id="jsapi"><a href="#jsapi" class="header-anchor">#</a> jsapi</h4> <p>通过 webview 注入 native 代码，demo <a href="https://bitbucket.org/chromiumembedded/cef/wiki/JavaScriptIntegration.md" target="_blank" rel="noopener noreferrer">https://bitbucket.org/chromiumembedded/cef/wiki/JavaScriptIntegration.md<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> 总结</h4> <p>严格说 CEF 并不是一个容器，它的开发思路更多是一个原生语言的 UI 开发框架，使用原生语言构建 UI，自带UI 组件里的一个较为强大的 webview 组件，有较好的 js -&gt; 原生语言的交互能力。</p> <h2 id="一点对比"><a href="#一点对比" class="header-anchor">#</a> 一点对比</h2> <table><thead><tr><th>容器/实现</th> <th>Electron</th> <th>CEF</th> <th>Tauri</th> <th>Neutralinojs</th> <th>webview2</th></tr></thead> <tbody><tr><td>native view</td> <td>不支持</td> <td>支持</td> <td>目前不支持</td> <td>不支持</td> <td>支持</td></tr> <tr><td>主进程语言</td> <td>nodejs</td> <td>py/c++/java 等</td> <td>rust</td> <td>无主进程编程能力，需定制容器</td> <td>c++/c#</td></tr> <tr><td>js api</td> <td>丰富</td> <td>c提供</td> <td>rust提供</td> <td>容器定制</td> <td>c++/c#提供</td></tr> <tr><td>社区</td> <td>强</td> <td>弱</td> <td>中</td> <td>弱</td> <td>无，不开源</td></tr> <tr><td>更新</td> <td>8周一个大版本</td> <td>定制后很难升级</td> <td>不定</td> <td>低频率</td> <td>不定</td></tr> <tr><td>native对接</td> <td>子进程模式；node addon ; ffi</td> <td>天然native</td> <td>rust天然 native 可行，也能通过 dll 对接 native</td> <td>容器定制</td> <td>天然 native</td></tr> <tr><td>包体积(dmg)</td> <td>90M+</td> <td>100M+</td> <td>3M+</td> <td>1.2M+</td> <td>3M+(大概)</td></tr> <tr><td>web 实现</td> <td>Chromium</td> <td>Chromium/webview</td> <td>系统webview</td> <td>系统webview</td> <td>系统webview</td></tr> <tr><td>内存消耗</td> <td>M1兼容模式 400M</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>普通 100M内</td> <td></td> <td></td> <td>同webview2</td> <td>有特殊优化</td> <td></td></tr> <tr><td>系统兼容性</td> <td>win7 sp1</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>(更低版本需要替换d3dcompiler.dll )</td> <td>win7 sp1</td> <td>win7 sp1 并要求安装 2020 年后的补丁</td> <td>同上</td> <td>同上</td> <td></td></tr></tbody></table> <p>Electron：Chromium + V8 运行nodejs
Tauri:  系统webview + rust 编译的可执行程序
Neutralion：系统webview + 预设的几个api
Webview2:  webview2 + c 编译的可执行程序</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pr/pr/electron/feishu.html" class="prev">
        飞书客户端技术
      </a></span> <span class="next"><a href="/pr/pr/electron/electron-overview.html">
        Electron 经验
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/pr/assets/js/app.b652a85f.js" defer></script><script src="/pr/assets/js/2.846b7fc6.js" defer></script><script src="/pr/assets/js/1.bc703a74.js" defer></script><script src="/pr/assets/js/27.182bd1ad.js" defer></script>
  </body>
</html>
